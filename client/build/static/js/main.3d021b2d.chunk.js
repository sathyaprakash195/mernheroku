(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(e,t,a){e.exports=a(77)},52:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),c=a.n(r),o=(a(52),a(35)),m=a(36),s=a(45),i=a(44),u=a(15),d=a(9),p=a(4),E=a(80),b=a(13),f=a.n(b),g=a(37),h=a.n(g);var v=function(e){var t=Object(u.f)(),a=localStorage.getItem("loggedin"),r=Object(n.useState)(),c=Object(p.a)(r,2),o=c[0],m=c[1];return Object(n.useEffect)((function(){if(localStorage.getItem("loggedin")){var e=h()(a);m(e.name)}else t.push("/login")})),l.a.createElement("div",null,l.a.createElement("h1",null,"Hii ,",o),l.a.createElement("h1",null,"Welcome To MernCrud"))},j=function(){var e=Object(u.f)(),t=Object(n.useState)(!1),a=Object(p.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),m=Object(p.a)(o,2),s=m[0],i=m[1],d=Object(n.useState)(""),b=Object(p.a)(d,2),g=b[0],h=b[1];return l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("h1",null,"Login Page"),l.a.createElement("div",{className:"m-2 p-2"},l.a.createElement("input",{type:"text",className:"form-control",name:"email",placeholder:"email",value:s,onChange:function(e){i(e.target.value)}}),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"password",value:g,onChange:function(e){h(e.target.value)}}),l.a.createElement("button",{onClick:function(){var e={email:s,password:g};f.a.post("/api/user/loginuser",e).then((function(e){e.data.token?(c(!0),localStorage.setItem("loggedin",e.data.token)):"1"==e.data?alert("email verification is pending"):alert("Invalid username or password")}))},className:"btn btn-primary"},"Login"))),l.a.createElement(E.a,{show:r,onHide:function(){return c(!1)}},l.a.createElement(E.a.Header,{closebutton:!0},l.a.createElement(E.a.Title,null,"Congratulations")),l.a.createElement(E.a.Body,null,"Login Successfull"),l.a.createElement(E.a.Footer,null,l.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.push("/dashboard"),window.location.reload()}},"Ok"))))};var O=function(){var e=Object(u.f)();function t(){localStorage.removeItem("loggedin"),e.push("/"),window.location.reload()}return l.a.createElement("div",null,l.a.createElement("nav",null,localStorage.getItem("loggedin")?l.a.createElement("div",{style:{display:"inline"}},l.a.createElement(d.b,{to:"/dashboard"},l.a.createElement("li",{className:"btn btn-primary"},"Dashboard")),l.a.createElement(d.b,{to:"/userslist"},l.a.createElement("li",{className:"btn btn-primary"},"Userslist")),l.a.createElement("li",{className:"btn btn-primary",onClick:t},"LogOut")):l.a.createElement("div",{style:{display:"inline"}},l.a.createElement(d.b,{to:"/login"},l.a.createElement("li",{className:"btn btn-primary"},"Login")),l.a.createElement(d.b,{to:"/register"},l.a.createElement("li",{className:"btn btn-primary"},"Register"))),l.a.createElement("hr",null)))},y=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(p.a)(c,2),m=o[0],s=o[1],i=Object(n.useState)(""),u=Object(p.a)(i,2),d=u[0],E=u[1],b=Object(n.useState)(""),g=Object(p.a)(b,2),h=g[0],v=g[1];return l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("h1",null,"Register Page"),l.a.createElement("div",{className:"m-2 p-2"},l.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"name",value:a,onChange:function(e){r(e.target.value)}}),l.a.createElement("input",{type:"text",className:"form-control",name:"username",placeholder:"username",value:m,onChange:function(e){s(e.target.value)}}),l.a.createElement("input",{type:"text",className:"form-control",name:"email",placeholder:"email",value:h,onChange:function(e){v(e.target.value)}}),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"password",value:d,onChange:function(e){E(e.target.value)}}),l.a.createElement("button",{onClick:function(){var e={name:a,username:m,email:h,password:d};f.a.post("/api/user/registeruser",e).then((function(e){alert(e.data),r(""),s(""),E(""),v("")}))},className:"btn btn-primary"},"Register"))))},N=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1];function c(){f.a.get("/api/user/getusers").then((function(e){console.log(e.data),r(e.data)}))}return Object(n.useEffect)((function(){c()}),[]),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-7"},l.a.createElement("table",{className:"table table-bordered table-responsive"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Username"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Verified"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,a.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.username),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.isVerified?"Yes":"No"),l.a.createElement("td",null,l.a.createElement(d.b,{to:"/update/".concat(e._id)},l.a.createElement("button",{className:"btn btn-danger"},"Update")),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t=e._id,f.a.post("/api/user/deleteuserbyid",{id:t}).then((function(e){alert(e.data)})),void c();var t}},"Delete")))}))))))},w=function(e,t){var a=e.match,r=Object(u.f)(),c=a.params.id,o=Object(n.useState)(""),m=Object(p.a)(o,2),s=m[0],i=m[1],d=Object(n.useState)(""),E=Object(p.a)(d,2),b=E[0],g=E[1],h=Object(n.useState)(""),v=Object(p.a)(h,2),j=v[0],O=v[1];return Object(n.useEffect)((function(){f.a.post("/api/user/getuserbyid",{id:c}).then((function(e){console.log(e.data),i(e.data.name),g(e.data.username),O(e.data.password)}))}),[]),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("h1",null,"Update Page"),l.a.createElement("div",{className:"m-2 p-2"},l.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"name",value:s,onChange:function(e){i(e.target.value)}}),l.a.createElement("input",{type:"text",className:"form-control",name:"username",placeholder:"username",value:b,onChange:function(e){g(e.target.value)}}),l.a.createElement("input",{type:"text",className:"form-control",name:"password",placeholder:"password",value:j,onChange:function(e){O(e.target.value)}}),l.a.createElement("button",{onClick:function(){var e={id:c,name:s,username:b,password:j};f.a.post("/api/user/updateuserbyid",e).then((function(e){alert(e.data),console.log(e.data),r.push("/userslist")}))},className:"btn btn-primary"},"Update"))))},S=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(d.a,null,l.a.createElement("h1",null,"MernStack Crud App"),l.a.createElement("hr",null),l.a.createElement(O,null),l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"/",component:j,exact:!0}),l.a.createElement(u.a,{path:"/login",component:j,exact:!0}),l.a.createElement(u.a,{path:"/register",component:y,exact:!0}),l.a.createElement(u.a,{path:"/userslist",component:N,exact:!0}),l.a.createElement(u.a,{path:"/update/:id",component:w,exact:!0}),l.a.createElement(u.a,{path:"/dashboard",component:v,exact:!0})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.3d021b2d.chunk.js.map